<div class="layout-library" *ngIf="!isLoading">
    <div class="header mt-0">
        <mat-icon class="mr-4" color="accent">library_books</mat-icon>
        <h2 class="mat-title title font-weight-bold m-0" attr.aria-label="{{title}}">{{title}}
            <span class="bgcolor-warn badge">{{contentList?.length}}</span>
        </h2>
        <span class="sb-secondary-btn ml-auto">
            <button type="button" mat-raised-button (click)="onViewMoreClick($event)" class="button-rounded color-accent" tabindex="0" *ngIf="(type !== LibraryCardGridTypes.INFINITE_CARD_GRID && type !== LibraryCardGridTypes.INFINITE_CARD_GRID_WITH_HOVER) && maxCardCount && contentList?.length >maxCardCount">{{viewMoreButtonText}}</button>
        </span>
    </div>


    <div class="cards-container"
        *ngIf="type !== LibraryCardGridTypes.INFINITE_CARD_GRID && type !== LibraryCardGridTypes.INFINITE_CARD_GRID_WITH_HOVER">
        <div class="item" [ngClass]="maxCardCount ? 'show-' + maxCardCount: ''"
            *ngFor="let content of contentList | slice:0:(maxCardCount ? maxCardCount : contentList?.length)let i=index">
            <sb-library-card [indexToDisplay]="i" [layoutConfig]="layoutConfig" [content]="content" [type]="LibraryCardTypes.DESKTOP_TEXTBOOK"
                (click)="onCardClick($event, content)" (keydown.enter)="onEnterKeyPress($event, content)" [cardImg]="content?.cardImg">
            </sb-library-card>
        </div>
    </div>

    <div class="cards-container" *ngIf="type === LibraryCardGridTypes.INFINITE_CARD_GRID">
        <button *ngIf="maxCardCount && viewMore && contentList?.length >maxCardCount" class="view-all-info sb-btn sb-btn-normal sb-btn-outline-secondary sb-btn-white"
            (click)="onViewMoreClick($event)" tabindex="0">{{viewMoreButtonText}}</button>
        <div class="item"  [ngClass]="maxCardCount ? 'show-' + maxCardCount: ''" *ngFor="let content of contentList;let i=index">
            <sb-library-card [indexToDisplay]="i" [layoutConfig]="layoutConfig" [content]="content" [type]="LibraryCardTypes.DESKTOP_TEXTBOOK"
                [isMenu]="isMenu" (click)="onCardClick($event, content)" (keydown.enter)="onEnterKeyPress($event, content)" [cardImg]="content?.cardImg" (menuClick)="onCardMenuClick($event)">
            </sb-library-card>
        </div>
    </div>

    <div class="cards-container" *ngIf="type === LibraryCardGridTypes.INFINITE_CARD_GRID_WITH_HOVER">
        <div class="item" [ngClass]="maxCardCount ? 'show-' + maxCardCount: ''"
            *ngFor="let content of contentList; let index = index">
            <sb-library-card [indexToDisplay]="index" [layoutConfig]="layoutConfig" [content]="content" [type]="LibraryCardTypes.DESKTOP_TEXTBOOK"
                (click)="onCardClick($event, content)" [cardImg]="content?.cardImg" [hover-template]="hoverTemplate">

                <ng-template #hoverTemplate let-hoverData="hoverData">
                    <sb-card-hover class="card-hover" [hoverData]="hoverData" [content]="content"
                        (hoverActionClick)="hoverActionClicked($event)">
                    </sb-card-hover>
                </ng-template>
            </sb-library-card>
        </div>
    </div>
</div>

<!--Loading Indicator for header-->
<div class="layout-library" *ngIf="isLoading">
<div class="header" *ngIf="isLoading">
        <div class="loading-animation sb--card--highlighter" style="width:100px;height:20px;">
                <i class="icon-svg icon-svg--sm"></i>
        </div>
</div>
<div class="cards-container" *ngIf="maxCardCount > 0">
    <div class="item" [ngClass]="maxCardCount ? 'show-' + maxCardCount: ''"
        *ngFor="let element of range(maxCardCount); let i=index">
        <sb-library-card [layoutConfig]="layoutConfig" [isLoading]="isLoading" [type]="LibraryCardTypes.DESKTOP_TEXTBOOK">
        </sb-library-card>
    </div>    
</div>
<div class="cards-container" *ngIf="maxCardCount <= 0">
    <div class="item"
        *ngFor="let number of [0,1,2]">
        <sb-library-card [layoutConfig]="layoutConfig" [isLoading]="isLoading" [type]="LibraryCardTypes.DESKTOP_TEXTBOOK">
        </sb-library-card>
    </div>
</div>

</div>
